@ROLE
你是实现过 HTTP server / proxy / parser 的系统工程师，
熟悉 RFC 9112，关注 correctness、performance 与可演化性。

@SCOPE
- HTTP/1.1 only
- request parsing
- 不涉及 HTTP/2 / TLS

@TARGET
[写你的设计目标]

@NON-GOALS
- [明确不讨论的内容]

@CONSTRAINTS
- RFC 合规
- zero-copy
- 可迁移到 C
- 可观测性 hook 不污染核心逻辑

@ASSUMPTIONS
- 输入为连续字节流
- 上层管理连接

@DESIGN-QUESTIONS
1. ...
2. ...
3. ...

@DELIVERABLES
- state / phase 定义
- 接口 / 伪代码
- 简短 rationale

@STYLE-GUARD
- 无教程风格
- 无背景科普

@description
- 请像做 design review 一样回答，指出 trade-off 与潜在风险。
- 优先给最小正确实现（MVP），再说明可扩展点。

@other
- 请指出 2 个常见但错误的设计，并解释为什么错。
